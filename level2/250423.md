# ì‚¬ì „ì  ì •ì˜

![image](https://github.com/user-attachments/assets/ba771b8e-f15c-4382-afde-adec7e3e7986)

â†’ ë¬¸ë§¥ í˜¹ì€ ë§¥ë½

# ì•ˆë“œë¡œì´ë“œ context

<aside>
ğŸ“Œ

Interface to global information about an application environment. This is an abstract class whose implementation is provided by the Android system. It allows access to application-specific resources and classes, as well as up-calls for application-level operations such as launching activities, broadcasting and receiving intents, etc.

</aside>

â†’ ì•± í™˜ê²½ì—ì„œ ì „ì—­ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ì´ê²ƒì€ ì•ˆë“œë¡œì´ë“œ ì‹œìŠ¤í…œì—ì„œ ì œê³µí•˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¡œì´ë‹¤. ì•± íŠ¹ì • ë¦¬ì†ŒìŠ¤ì™€ í´ë˜ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ë©°, ì•¡í‹°ë¹„í‹°ë¥¼ ì‹¤í–‰ì‹œí‚¤ê±°ë‚˜ ë¸Œë¡œë“œìºìŠ¤íŒ… ë° ì¸í…íŠ¸ ìˆ˜ì‹  ë“± API ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

`TL;DR` : **ì•±ì˜ í˜„ì¬ ìƒíƒœ, í˜¹ì€ ì•±ì´ í˜ëŸ¬ê°€ëŠ” ë§¥ë½ì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´**

## Android Context 4ì¤„ ì •ë¦¬

- ì•±ì˜ `í˜„ì¬ ìƒíƒœ` ë‚˜íƒ€ëƒ„
- `ì•¡í‹°ë¹„í‹° í˜¹ì€ ì•±` ê³¼ ê´€ë ¨í•´ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ ì‚¬ìš©
- ë¦¬ì†ŒìŠ¤, DB, Shared Preferences ë“±ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©
- `Activity`,Â `Application`Â í´ë˜ìŠ¤ëŠ”Â `Context`Â í´ë˜ìŠ¤ë¥¼ ì¡°í•©í•œ í´ë˜ìŠ¤

## ê·¸ë ‡ë‹¤ë©´ ì™œ context ë¥¼ ì•Œì•„ì•¼ í• ê¹Œ?

1. ì•ˆë“œë¡œì´ë“œ `ì£¼ìš” ê¸°ëŠ¥ì€ ëŒ€ë¶€ë¶„ Contextë¥¼ ì‚¬ìš©`í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

```kotlin
startActivity()     -> ì•¡í‹°ë¹„í‹° ì‹¤í–‰
getResources()      -> ë¦¬ì†ŒìŠ¤ ì ‘ê·¼
getSystemService()  -> ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ ì ‘ê·¼
Toast.makeText()    -> ì‚¬ìš©ì ë©”ì‹œì§€ ì¶œë ¥
```

1. ì•ˆë“œë¡œì´ë“œì˜ `ì£¼ìš” êµ¬ì„± ìš”ì†Œë“¤ì€ Context ê¸°ë°˜ìœ¼ë¡œ ë™ì‘`í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
- Activity ì—ì„œ ìƒì†í•˜ëŠ” AppCompatActivity ì˜ ê²½ìš°
    
    AppCompatActivity â†’ FragmentActivity â†’ activity/ComponenetActivity â†’ app/ComponentActivity â†’ Activity â†’ ContextThemeWrapper â†’ ContextWrapper â†’ Context 
    
    ë¥¼ í†µí•´ ê²°êµ­ì€ Context ë¥¼ ì¡°í•©í•˜ê³  ìˆë‹¤.
    
- Application ì˜ ê²½ìš°
    
    Application â†’ ContextWrapper â†’ Context 
    
    ë¥¼ í†µí•´ ê²°êµ­ì€ Context ë¥¼ ì¡°í•©í•˜ê³  ìˆë‹¤.

    ![image](https://github.com/user-attachments/assets/d5d8cfc9-35e5-47d7-bca4-c59da355d3db)

    
1. Context ë¥¼ ì˜ëª» ì‚¬ìš©í•  ê²½ìš° `ë©”ëª¨ë¦¬ ë¦­ì˜ ìœ„í—˜`ì´ ìˆë‹¤.
- `ë©”ëª¨ë¦¬ ë¦­` : **a.k.a. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜**
    - GC ì— ì˜í•´ ë©”ëª¨ë¦¬ê°€ ì œê±°ë˜ì–´ì•¼ í•˜ëŠ”ë°, ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì–´ì•¼ í•  ì°¸ì¡°ê°€ ê±¸ë ¤ìˆì„ ê²½ìš° GCê°€ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•˜ì§€ ì•ŠìŒ.
    - e.g. activityê°€ destroyed ëœ í›„ì—ë„ activity context ë¥¼ ì°¸ì¡°í•˜ê³  ìˆìœ¼ë©´ ë©”ëª¨ë¦¬ê°€ í•´ì œë˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ ë¦­ì´ ë°œìƒí•œë‹¤.

## Application Context VS Activity Context

![image](https://github.com/user-attachments/assets/5c0ffe4b-1647-4522-ad76-f71a3bee7d49)



## Application Context

- Application í´ë˜ìŠ¤ ë‚´ë¶€ì— ìˆëŠ” context
- ì‹±ê¸€í„´ ì¸ìŠ¤í„´ìŠ¤
- Application Lifecycle ê³µìœ  (ì•± ëŸ°ì¹­ ~ ì¢…ë£Œ)
- ë¦¬ì†ŒìŠ¤ ì ‘ê·¼

## Activity Context

- Activity Lifecycle ê³µìœ 
- ë¦¬ì†ŒìŠ¤ ì ‘ê·¼
- Activity ë²”ìœ„ ë‚´ì—ì„œ Context ì „ë‹¬
- UI ì‘ì—…
- LayoutInflater
- etc â€¦

## ê·¸ë¦¬ê³  Base Context

- ContextWrapper ì—ì„œ ì‚¬ìš©í•˜ëŠ” context ë¡œ ì‹¤ì œë¡œëŠ” `Context ì˜ ì‹¤ì œ êµ¬í˜„ì²´`
- ì–¸ì œ ì“°ëŠ”ê°€?
    - ìš°ë¦¬ëŠ” ì˜ ì“°ì§€ ì•Šê³ , ì‹¤ì œ activityContext í˜¹ì€ applicationContext ì˜ ë‚´ë¶€ êµ¬í˜„ì²´ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
- baseContext ì‚¬ìš©ì„ ì§€ì–‘í•´ì•¼ í•˜ëŠ” ì´ìœ 
    
    https://medium.com/@ali.muzaffar/which-context-should-i-use-in-android-e3133d00772c
    
    `TL;DR` : ì—¬ëŸ¬ context ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê¸°ì— ì–´ë–¤ ë°˜í™˜ê°’ì¸ì§€ ëª¨í˜¸í•˜ë‹¤.
    

## ì¶”ê°€ ìë£Œ

1. `LayoutInflater.from()` ì˜ ë‚´ë¶€ êµ¬í˜„ì„ ë³´ë©´ ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ `@UiContext`ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë„£ìœ¼ë¼ê³  ë˜ì–´ ìˆë‹¤. â†’ applicationContext ë¥¼ ì¨ë„ ëŒì•„ê°€ê¸´ í•œë‹¤â€¦ ì•ˆì „í•˜ì§€ ì•Šì„ ë¿
    
    ![image](https://github.com/user-attachments/assets/4fe5bba0-a2b8-42df-a786-a6c68b1b3e79)

    
2. `Application()` ì„ ìƒì† ë°›ìœ¼ë©´ ì´ 3ê°€ì§€ì˜ contextì™€ boolean ê°’ 1ê°€ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    
    ![image](https://github.com/user-attachments/assets/835d518f-3fdd-4037-9d88-aff4aa818e8e)

    
    - `baseContext` â†’ Base Context
    - `applicationContext` â†’ Application Context
    - `coroutineContext` â†’ Coroutine Context ? ëª¨ë¥´ê² ì–´ìš”.. ì¶”í›„ ì½”ì¹˜ë‹˜ë“¤ê»˜ì„œ ì•Œë ¤ì£¼ì‹œì§€ ì•Šì„ê¹Œ..
    
    ---
    
    - `isUiContext` â†’ Ui ì‘ì—… ê°€ëŠ¥í•œ Context ì¸ì§€ íŒŒì•…
        
        ![image](https://github.com/user-attachments/assets/c3d2f6c2-d38e-42b6-b50b-2940c02c58c8)

        

# TL;DR ì˜¤ëŠ˜ì˜ 2ì¤„ ìš”ì•½

1. **ê°€ì¥ ê°€ê¹Œìš´ `context` ë¥¼ ì¨ë¼.**
2. [ì œì„ìŠ¤ ê°•ì˜ ì‹œíŠ¸](https://docs.google.com/spreadsheets/d/1jDV1ufxlFmziu9aH4pEO9sjPAeyAVmuy5z5d25xbpzs/edit?gid=0#gid=0) ì— Context ê´€ë ¨ ì§ˆë¬¸ ë‹µë³€í•˜ê¸°

# ì°¸ê³  ìë£Œ

### ì˜ìƒ ìë£Œ

https://www.youtube.com/watch?v=yoU-3ks7e5Q

https://www.youtube.com/watch?v=S22NlX4iXJU

### í…ìŠ¤íŠ¸ ìë£Œ

https://developer.android.com/reference/android/content/Context

https://developer.android.com/reference/android/content/ContextWrapper

https://outcomeschool.com/blog/context-in-android-application

https://medium.com/@ali.muzaffar/which-context-should-i-use-in-android-e3133d00772c
